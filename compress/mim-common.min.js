!function(){if(typeof(jQuery)!=='function'){throw new Error('请先引入jQuery')}var _mim={};window.$$=window.MIM=_mim}(),function(){jQuery.fn.prompt=MIM.prompt=function(state,type,time,bool){var div,bool_,set='';if(bool==true||bool=='true'){bool_=true}else{bool_=false}clearTimeout(set);switch(type){case"success":div=$("<div class='mim-prompt_success_box'></div>").animate({top:"50px",opacity:'1'},500).appendTo($("body"));var div_success=$("<p class='mim-prompt_success_p'><i class='iconfont'></i><span>"+state+"</span></p>").appendTo(div);if(bool_){$("<i class='iconfont mim-prompt_i'></i>").click(function(){div.animate({marginTop:"-50px",opacity:'0'},500,function(){div.remove()})}).appendTo(div_success)}break;case"error":div=$("<div class='mim-prompt_error_box'></div>").animate({top:"50px",opacity:'1'},500).appendTo($("body"));var div_error=$("<p class='mim-prompt_error_p'><i class='iconfont'></i><span>"+state+"</span></p>").appendTo(div);if(bool_){$("<i class='iconfont mim-prompt_i'></i>").click(function(){div.animate({marginTop:"-50px",opacity:'0'},500,function(){div.remove()})}).appendTo(div_error)}break;case"warning":div=$("<div class='mim-prompt_warning_box'></div>").animate({top:"50px",opacity:'1'},500).appendTo($("body"));var div_warning=$("<p class='mim-prompt_warning_p'><i class='iconfont'></i><span>"+state+"</span></p>").appendTo(div);if(bool_){$("<i class='iconfont mim-prompt_i'></i>").click(function(){div.animate({marginTop:"-50px",opacity:'0'},500,function(){div.remove()})}).appendTo(div_warning)}break;case"info":div=$("<div class='mim-prompt_info_box'></div>").animate({top:"50px",opacity:'1'},500).appendTo($("body"));var div_info=$("<p class='mim-prompt_info_p'><i class='iconfont'></i><span>"+state+"</span></p>").appendTo(div);if(bool_){$("<i class='iconfont mim-prompt_i'></i>").click(function(){div.animate({marginTop:"-50px",opacity:'0'},500,function(){div.remove()})}).appendTo(div_info)}break}set=setTimeout(function(){div.animate({marginTop:"-50px",opacity:'0'},500,function(){div.remove()});clearTimeout(set)},time)};jQuery.fn.confirm=MIM.confirm=function(state,successCallback,_confirm,_deselect){_confirm=(_confirm==""||_confirm==null||typeof(_confirm)=='undefined')?"确定":_confirm;_deselect=(_deselect==""||_deselect==null||typeof(_deselect)=='undefined')?"取消":_deselect;var div=$("<div class='mim-confirm_out'></div>").appendTo($("body"));var div1=$("<div class='mim-confirm_inner'></div>").appendTo(div);var h=$("<h2 class='mim-confirm_h'><span>提示</span></h2>").appendTo(div1);var i=$("<i class='iconfont'></i>").click(function(){div.remove();MIM.prompt('取消操作','info',3000)}).appendTo(h);var p=$("<p class='mim-confirm_p'><i class='iconfont'></i><span>"+state+"</span></p>").appendTo(div1);var button1=$('<button class="mim-confirm_button1">'+_confirm+'</button>').click(function(){div.remove();successCallback()}).appendTo(div1);var button2=$('<button class="mim-confirm_button2">'+_deselect+'</button>').click(function(){div.remove();MIM.prompt('取消操作','info',3000)}).appendTo(div1)};jQuery.fn.countDown=MIM.countDown=function(times,cssInit,cssEnd){var time=times;var that=$(this);$(this).on('click',function(){countdownTime()});function countdownTime(){var test1;if(time>=1){time-=1;if(time==0){that.css(cssInit);that.css({cursor:"pointer"}).removeAttr("disabled").html("获取验证码");return}that.css(cssEnd);that.css({cursor:"not-allowed"}).attr("disabled","disabled").html(time+"s后重试");test1=setTimeout(function(){countdownTime();clearTimeout(test1)},1000)}}};jQuery.fn.timeFilter=MIM.timeFilter=function(value,before,later){var oDate=new Date();oDate.setTime(value*1000);var y=oDate.getFullYear();var M=oDate.getMonth()+1;parseInt(M)<10?M='0'+M:M=M;var d=oDate.getDate();parseInt(d)<10?d='0'+d:d=d;var h=oDate.getHours();parseInt(h)<10?h='0'+h:h=h;var m=oDate.getMinutes();parseInt(m)<10?m='0'+m:m=m;var s=oDate.getSeconds();parseInt(m)<10?s='0'+s:s=s;if(before!==false&&later!==false){return y+before+M+before+d+' '+h+later+m+later+s}else if(later==false){return y+before+M+before+d}else if(before==false){return h+later+m+later+s}};jQuery.fn.likeResult=MIM.likeResult=function(str,css){$(this).on('click',function(){var that=$(this);var y=that.offset().top;var x=that.offset().left;var div=$("<div>"+str+"</div>").css({position:"fixed",top:y,left:x,marginTop:"-25px",color:"#d60000",fontWeight:"600",zIndex:"999999999",}).animate({marginTop:"-100px",opacity:'0'},2000,function(){div.remove()}).appendTo($('body'));if(css==""||css==null||css==undefined){}else{div.css(css)}})};jQuery.fn.verifyReg=MIM.verifyReg=function(str,value,bool){var mobileReg=/^0?(13|15|18|17|14|19|16)[0-9]{9}$/;var emailReg=/^[\.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;var regularReg=str;if(str=="phone"){if(bool){if(!value){return 2}}if(!!bool){if(!mobileReg.test(value)){return 3}else{return 1}}else{return 1}}else if(str=="email"){if(bool){if(!value){return 2}}if(!!value){if(!emailReg.test(value)){return 3}else{return 1}}else{return 1}}else{if(bool){if(!value){return 2}}if(!!bool){if(!regularReg.test(value)){return 3}else{return 1}}else{return 1}}};jQuery.fn.goToTop=MIM.goToTop=function(){if($(window).scrollTop()!==0){$('html , body').animate({scrollTop:0},'slow')}};jQuery.fn.ajaxUtils=MIM.ajaxUtils=function(url,data,async,type,dataType,successfn,errorfn){async=(async==null||async==""||typeof(async)=="undefined")?"true":async;type=(type==null||type==""||typeof(type)=="undefined")?"post":type;dataType=(dataType==null||dataType==""||typeof(dataType)=="undefined")?"json":dataType;data=(data==null||data==""||typeof(data)=="undefined")?{}:data;$.ajax({type:type,async:async,data:data,url:url,dataType:dataType,success:function(d){successfn(d)},error:function(e){errorfn(e)}})};jQuery.fn.divDrag=MIM.divDrag=function(){$(this).on('mousedown',function(){$(this).css("cursor","move");var event=window.event||arguments.callee.caller.arguments[0];var distanceX=event.clientX-$(this).offset().left;var distanceY=event.clientY-$(this).offset().top;$(this).on('mousemove',function(){$(this).css("cursor","move");var event=window.event||arguments.callee.caller.arguments[0];var ox=event.clientX-distanceX;var oy=event.clientY-distanceY;$(this).css({left:ox+"px",top:oy+"px"})});$(this).on('mouseup',function(){var event=window.event||arguments.callee.caller.arguments[0];$(this).css("cursor","default");$(this).off("mousemove")})})}}();